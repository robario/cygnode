'use strict';
// local
const cygpath = require('../../../../cygpath.js');

module.exports = function (ref) {
    const whichAndExec = ref.exports.whichAndExec;
    ref.exports.whichAndExec = function (args, options, cb) {
        return whichAndExec.call(this, args.map((arg) => cygpath(arg, {relative: args[0] !== 'clone'})), options, cb);
    };

    const chainableExec = ref.exports.chainableExec;
    ref.exports.chainableExec = function () {
        const args = Array.prototype.slice.call(arguments);
        args[0] = args[0].map((arg) => cygpath(arg, {relative: args[0][0] !== 'clone'}));
        return chainableExec.apply(this, args);
    };
};
